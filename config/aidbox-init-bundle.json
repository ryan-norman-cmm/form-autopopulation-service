{
  "resourceType": "Bundle",
  "id": "form-auto-population-init-bundle",
  "type": "transaction",
  "entry": [
    {
      "request": {
        "method": "PUT",
        "url": "Client/form-auto-population-service"
      },
      "resource": {
        "resourceType": "Client",
        "id": "form-auto-population-service",
        "secret": "{{FORM_AUTOPOPULATION_CLIENT_SECRET}}",
        "grant_types": ["basic"],
        "scope": [
          "system/Patient.read",
          "system/Questionnaire.*",
          "system/QuestionnaireResponse.*"
        ]
      }
    },
    {
      "request": {
        "method": "PUT",
        "url": "AccessPolicy/as-form-auto-population-client-questionnaire-read"
      },
      "resource": {
        "resourceType": "AccessPolicy",
        "id": "as-form-auto-population-client-questionnaire-read",
        "description": "Allow Form Auto-Population Service to read and search Questionnaire resources",
        "engine": "matcho",
        "matcho": {
          "client": {
            "id": "form-auto-population-service"
          },
          "request-method": {
            "$enum": ["get"]
          },
          "uri": "#^/fhir/Questionnaire.*$"
        }
      }
    },
    {
      "request": {
        "method": "PUT",
        "url": "AccessPolicy/as-form-auto-population-client-questionnaire-write"
      },
      "resource": {
        "resourceType": "AccessPolicy",
        "id": "as-form-auto-population-client-questionnaire-write",
        "description": "Allow Form Auto-Population Service to create, update, delete Questionnaire resources",
        "engine": "matcho",
        "matcho": {
          "client": {
            "id": "form-auto-population-service"
          },
          "request-method": {
            "$enum": ["post", "put", "patch", "delete"]
          },
          "uri": "#^/fhir/Questionnaire.*$"
        }
      }
    },
    {
      "request": {
        "method": "PUT",
        "url": "AccessPolicy/as-form-auto-population-client-questionnaireresponse-read"
      },
      "resource": {
        "resourceType": "AccessPolicy",
        "id": "as-form-auto-population-client-questionnaireresponse-read",
        "description": "Allow Form Auto-Population Service to read and search QuestionnaireResponse resources",
        "engine": "matcho",
        "matcho": {
          "client": {
            "id": "form-auto-population-service"
          },
          "request-method": {
            "$enum": ["get"]
          },
          "uri": "#^/fhir/QuestionnaireResponse.*$"
        }
      }
    },
    {
      "request": {
        "method": "PUT",
        "url": "AccessPolicy/as-form-auto-population-client-patient-read"
      },
      "resource": {
        "resourceType": "AccessPolicy",
        "id": "as-form-auto-population-client-patient-read",
        "description": "Allow Form Auto-Population Service to read and search Patient resources",
        "engine": "matcho",
        "matcho": {
          "client": {
            "id": "form-auto-population-service"
          },
          "request-method": {
            "$enum": ["get"]
          },
          "uri": "#^/fhir/Patient.*$"
        }
      }
    },
    {
      "request": {
        "method": "PUT",
        "url": "AccessPolicy/as-form-auto-population-client-questionnaireresponse-write"
      },
      "resource": {
        "resourceType": "AccessPolicy",
        "id": "as-form-auto-population-client-questionnaireresponse-write",
        "description": "Allow Form Auto-Population Service to create, update QuestionnaireResponse resources",
        "engine": "matcho",
        "matcho": {
          "client": {
            "id": "form-auto-population-service"
          },
          "request-method": {
            "$enum": ["post", "put", "patch"]
          },
          "uri": "#^/fhir/QuestionnaireResponse.*$"
        }
      }
    }
  ]
}
